\hypertarget{net2__link__server_8h}{}\section{src/net2/net2\+\_\+link\+\_\+server.h File Reference}
\label{net2__link__server_8h}\index{src/net2/net2\+\_\+link\+\_\+server.\+h@{src/net2/net2\+\_\+link\+\_\+server.\+h}}
{\ttfamily \#include $<$pthread.\+h$>$}\\*
{\ttfamily \#include \char`\"{}net2\+\_\+socket.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}net2\+\_\+link.\+h\char`\"{}}\\*
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structnet2__link__server__t}{net2\+\_\+link\+\_\+server\+\_\+t}
\begin{DoxyCompactList}\small\item\em The link server is in charge of handling incoming connections requests from remote nodes which want to create a communication between one of their channel and on of its channel. It therefore checks from the link manager than those channels are not already connected with a net2 link. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structnet2__link__server__t}{net2\+\_\+link\+\_\+server\+\_\+t} $\ast$$\ast$ \hyperlink{net2__link__server_8h_a61ab22c3725f4e6055c959a50e83f6d8}{net2\+\_\+link\+\_\+server\+\_\+get\+\_\+instance} (void)
\begin{DoxyCompactList}\small\item\em Returns a pointer on the link server (which is itself a pointer on the singleton instance, hence \char`\"{}$\ast$$\ast$\char`\"{}). \end{DoxyCompactList}\item 
int \hyperlink{net2__link__server_8h_a2fcec92795a126f89bab20cabf2cb100}{net2\+\_\+link\+\_\+server\+\_\+create} (unsigned short port)
\begin{DoxyCompactList}\small\item\em Instances the net2 link server singleton. \end{DoxyCompactList}\item 
int \hyperlink{net2__link__server_8h_acef491794221a94459e75e2882b3601d}{net2\+\_\+link\+\_\+server\+\_\+init} (unsigned short port)
\begin{DoxyCompactList}\small\item\em Inits the link server \+: if the link server singleton has not been instanced yet, it is instanced and starts listening \& accepting incoming connections requests. \end{DoxyCompactList}\item 
void $\ast$ \hyperlink{net2__link__server_8h_af020ba98131a0ce28ec9a6edad471958}{net2\+\_\+link\+\_\+server\+\_\+run} (void $\ast$net2\+\_\+link\+\_\+server\+\_\+to\+\_\+run)
\begin{DoxyCompactList}\small\item\em Runs the net2 link server \+: starts listening and accepting incoming connections requests. It has a fancy signature because it will be executed in a different thread and thread format in C is \+: \char`\"{}void$\ast$ ($\ast$) (void$\ast$)\char`\"{}. \end{DoxyCompactList}\item 
int \hyperlink{net2__link__server_8h_a38d3b90bbf474a199871fbd67eedec1f}{net2\+\_\+link\+\_\+server\+\_\+new\+\_\+link\+\_\+to\+\_\+run} (struct \hyperlink{structnet2__link__t}{net2\+\_\+link\+\_\+t} $\ast$link\+\_\+to\+\_\+run)
\begin{DoxyCompactList}\small\item\em Runs the given link in a new thread to read message from this link continuously. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyAuthor}{Author}
Capelli, Ludovic 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
2.\+0 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
22/01/2015 
\end{DoxyDate}


\subsection{Function Documentation}
\hypertarget{net2__link__server_8h_a2fcec92795a126f89bab20cabf2cb100}{}\index{net2\+\_\+link\+\_\+server.\+h@{net2\+\_\+link\+\_\+server.\+h}!net2\+\_\+link\+\_\+server\+\_\+create@{net2\+\_\+link\+\_\+server\+\_\+create}}
\index{net2\+\_\+link\+\_\+server\+\_\+create@{net2\+\_\+link\+\_\+server\+\_\+create}!net2\+\_\+link\+\_\+server.\+h@{net2\+\_\+link\+\_\+server.\+h}}
\subsubsection[{net2\+\_\+link\+\_\+server\+\_\+create(unsigned short port)}]{\setlength{\rightskip}{0pt plus 5cm}int net2\+\_\+link\+\_\+server\+\_\+create (
\begin{DoxyParamCaption}
\item[{unsigned short}]{port}
\end{DoxyParamCaption}
)}\label{net2__link__server_8h_a2fcec92795a126f89bab20cabf2cb100}


Instances the net2 link server singleton. 


\begin{DoxyParams}{Parameters}
{\em port} & The port to listen on. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item S\+U\+C\+C\+E\+S\+S \+: 0 
\item F\+A\+I\+L\+U\+R\+E \+: -\/1 
\end{DoxyItemize}
\end{DoxyReturn}
\hypertarget{net2__link__server_8h_a61ab22c3725f4e6055c959a50e83f6d8}{}\index{net2\+\_\+link\+\_\+server.\+h@{net2\+\_\+link\+\_\+server.\+h}!net2\+\_\+link\+\_\+server\+\_\+get\+\_\+instance@{net2\+\_\+link\+\_\+server\+\_\+get\+\_\+instance}}
\index{net2\+\_\+link\+\_\+server\+\_\+get\+\_\+instance@{net2\+\_\+link\+\_\+server\+\_\+get\+\_\+instance}!net2\+\_\+link\+\_\+server.\+h@{net2\+\_\+link\+\_\+server.\+h}}
\subsubsection[{net2\+\_\+link\+\_\+server\+\_\+get\+\_\+instance(void)}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf net2\+\_\+link\+\_\+server\+\_\+t}$\ast$$\ast$ net2\+\_\+link\+\_\+server\+\_\+get\+\_\+instance (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{net2__link__server_8h_a61ab22c3725f4e6055c959a50e83f6d8}


Returns a pointer on the link server (which is itself a pointer on the singleton instance, hence \char`\"{}$\ast$$\ast$\char`\"{}). 

\begin{DoxyReturn}{Returns}
A pointer on the link server. 
\end{DoxyReturn}
\hypertarget{net2__link__server_8h_acef491794221a94459e75e2882b3601d}{}\index{net2\+\_\+link\+\_\+server.\+h@{net2\+\_\+link\+\_\+server.\+h}!net2\+\_\+link\+\_\+server\+\_\+init@{net2\+\_\+link\+\_\+server\+\_\+init}}
\index{net2\+\_\+link\+\_\+server\+\_\+init@{net2\+\_\+link\+\_\+server\+\_\+init}!net2\+\_\+link\+\_\+server.\+h@{net2\+\_\+link\+\_\+server.\+h}}
\subsubsection[{net2\+\_\+link\+\_\+server\+\_\+init(unsigned short port)}]{\setlength{\rightskip}{0pt plus 5cm}int net2\+\_\+link\+\_\+server\+\_\+init (
\begin{DoxyParamCaption}
\item[{unsigned short}]{port}
\end{DoxyParamCaption}
)}\label{net2__link__server_8h_acef491794221a94459e75e2882b3601d}


Inits the link server \+: if the link server singleton has not been instanced yet, it is instanced and starts listening \& accepting incoming connections requests. 


\begin{DoxyParams}{Parameters}
{\em port} & The port to listen on. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item S\+U\+C\+C\+E\+S\+S \+: 0 
\item F\+A\+I\+L\+U\+R\+E \+: -\/1 
\item A\+L\+R\+E\+A\+D\+Y I\+N\+S\+T\+A\+N\+C\+E\+D \+: -\/2 
\end{DoxyItemize}
\end{DoxyReturn}
\hypertarget{net2__link__server_8h_a38d3b90bbf474a199871fbd67eedec1f}{}\index{net2\+\_\+link\+\_\+server.\+h@{net2\+\_\+link\+\_\+server.\+h}!net2\+\_\+link\+\_\+server\+\_\+new\+\_\+link\+\_\+to\+\_\+run@{net2\+\_\+link\+\_\+server\+\_\+new\+\_\+link\+\_\+to\+\_\+run}}
\index{net2\+\_\+link\+\_\+server\+\_\+new\+\_\+link\+\_\+to\+\_\+run@{net2\+\_\+link\+\_\+server\+\_\+new\+\_\+link\+\_\+to\+\_\+run}!net2\+\_\+link\+\_\+server.\+h@{net2\+\_\+link\+\_\+server.\+h}}
\subsubsection[{net2\+\_\+link\+\_\+server\+\_\+new\+\_\+link\+\_\+to\+\_\+run(struct net2\+\_\+link\+\_\+t $\ast$link\+\_\+to\+\_\+run)}]{\setlength{\rightskip}{0pt plus 5cm}int net2\+\_\+link\+\_\+server\+\_\+new\+\_\+link\+\_\+to\+\_\+run (
\begin{DoxyParamCaption}
\item[{struct {\bf net2\+\_\+link\+\_\+t} $\ast$}]{link\+\_\+to\+\_\+run}
\end{DoxyParamCaption}
)}\label{net2__link__server_8h_a38d3b90bbf474a199871fbd67eedec1f}


Runs the given link in a new thread to read message from this link continuously. 


\begin{DoxyParams}{Parameters}
{\em link\+\_\+to\+\_\+run} & The link to run. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item S\+U\+C\+C\+E\+S\+S \+: 0 
\item F\+A\+I\+L\+U\+R\+E \+: -\/1 
\end{DoxyItemize}
\end{DoxyReturn}
\hypertarget{net2__link__server_8h_af020ba98131a0ce28ec9a6edad471958}{}\index{net2\+\_\+link\+\_\+server.\+h@{net2\+\_\+link\+\_\+server.\+h}!net2\+\_\+link\+\_\+server\+\_\+run@{net2\+\_\+link\+\_\+server\+\_\+run}}
\index{net2\+\_\+link\+\_\+server\+\_\+run@{net2\+\_\+link\+\_\+server\+\_\+run}!net2\+\_\+link\+\_\+server.\+h@{net2\+\_\+link\+\_\+server.\+h}}
\subsubsection[{net2\+\_\+link\+\_\+server\+\_\+run(void $\ast$net2\+\_\+link\+\_\+server\+\_\+to\+\_\+run)}]{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ net2\+\_\+link\+\_\+server\+\_\+run (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{net2\+\_\+link\+\_\+server\+\_\+to\+\_\+run}
\end{DoxyParamCaption}
)}\label{net2__link__server_8h_af020ba98131a0ce28ec9a6edad471958}


Runs the net2 link server \+: starts listening and accepting incoming connections requests. It has a fancy signature because it will be executed in a different thread and thread format in C is \+: \char`\"{}void$\ast$ ($\ast$) (void$\ast$)\char`\"{}. 


\begin{DoxyParams}{Parameters}
{\em net2\+\_\+link\+\_\+server\+\_\+to\+\_\+run} & A pointer on the net2 link server to be started. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item S\+U\+C\+C\+E\+S\+S \+: net2\+\_\+link\+\_\+server\+\_\+to\+\_\+run 
\item F\+A\+I\+L\+U\+R\+E \+: N\+U\+L\+L 
\end{DoxyItemize}
\end{DoxyReturn}
\begin{DoxyPrecond}{Precondition}
net2\+\_\+link\+\_\+server\+\_\+to\+\_\+run != N\+U\+L\+L 
\end{DoxyPrecond}
